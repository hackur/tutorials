$(function(){function t(){o.scrollTop()>n-o.height()-300&&($(".others, .note-chicken").hasClass("note-open")||($(".others, .note-chicken").addClass("note-open"),a("show note","show",r)),$(".note-close-btn").on("click",function(){$(".others, .note-chicken").hasClass("note-close")||(a("show note","close",r),$(".others, .note-chicken").addClass("note-close"))}))}function e(){o.scrollTop()>l.height()&&o.scrollTop()<n-o.height()+200?h.show():h.hide()}function a(t,e,a){ga("send","event",t,e,a)}var n,r=location.href.split("/").pop(),o=$(window),s=($(document),$("pre")),i=$(".youtube"),c=($(".tutorials-content"),$(".tutorials-content a").not(".pre-next a, .arrow")),l=$(".tutorials-content .banner");$("a.tutorials").addClass("actived");var h=$(".arrow"),p=$(".arrow-r"),f=$(".arrow-l");$.getJSON("../json/tutorials.json",function(s){for(var i=$.map(s,function(t,e){return[t]}),c=i.length,d=0;c>d;d++)i[d].src==r&&(l.append('<img src="../img/tutorials/'+i[d].banner+'">'),d>0&&c-1>d?($(".pre").append('<i class="fa fa-hand-o-left"></i> 上一篇<br/><a class="pre-next-button" data-name="pre-next-button" href="'+i[d-1].src+'">'+i[d-1].title+"</a>"),$(".next").append('下一篇 <i class="fa fa-hand-o-right"></i><br/><a class="pre-next-button" data-name="pre-next-button" href="'+i[d+1].src+'">'+i[d+1].title+"</a>"),p.attr("href",i[d+1].src).attr("title","下一篇："+i[d+1].title),f.attr("href",i[d-1].src).attr("title","上一篇："+i[d-1].title)):0==d?($(".next").append('下一篇 <i class="fa fa-hand-o-right"></i><br/><a class="pre-next-button" data-name="pre-next-button" href="'+i[1].src+'">'+i[1].title+"</a>"),f.css({left:"-100px"}),p.attr("href",i[1].src).attr("title","下一篇："+i[d+1].title)):($(".pre").append('<i class="fa fa-hand-o-left"></i> 上一篇<br/><a class="pre-next-button" data-name="pre-next-button" href="'+i[d-1].src+'">'+i[d-1].title+"</a>"),f.attr("href",i[d-1].src).attr("title","上一篇："+i[d-1].title),p.css({right:"-100px"})));var u=$(".tutorials-content .banner img");u.load(function(){n=$(".pre-next").offset().top,o.width()>800?(e(),t(),o.scroll(e),o.scroll(t)):h.hide()});var b=$(".pre-next-button");b.on("click",function(){var t=$(this).attr("href"),e=$(this).attr("data-name");""!=e&&e||(e=r[r.length-1]),a(e,"a click",t)}),b.on("mouseenter",function(){var t=$(this).attr("href"),e=$(this).attr("data-name");""!=e&&e||(e=r[r.length-1]),a(e,"a hover",t)})}),s.addClass("prettyprint"),c.attr("target","_blank");var d=i.width();i.css({height:9*d/16+"px"}),o.resize(function(){d=i.width(),i.css({height:9*d/16+"px"}),o.width()>800?e():h.hide()})});