<hr>
<p>tag: smart
src: smart-05-photocell.html
title: Photocell of the Webduino Smart
banner: smart-05-photocell.jpg
img: smart-05-photocell-s.jpg</p>
<h2>date: 20161006</h2>
<!-- @@master  = ../../_layout.html-->
<!-- @@block  =  meta-->
<title>Photocell of the Webduino Smart :::: Webduino = Web × Arduino</title>

<meta name="description" content="The Webduino Smart has a few built-in sensors and components, and photocell is one of them. The photocell can be used to detect the light surrounding it. The photocell is connected to A0, which is the AD pin on the board. Therefore, when the photocell is in use, the AD pin is taken.">

<meta itemprop="description" content="The Webduino Smart has a few built-in sensors and components, and photocell is one of them. The photocell can be used to detect the light surrounding it. The photocell is connected to A0, which is the AD pin on the board. Therefore, when the photocell is in use, the AD pin is taken.">

<meta property="og:description" content="The Webduino Smart has a few built-in sensors and components, and photocell is one of them. The photocell can be used to detect the light surrounding it. The photocell is connected to A0, which is the AD pin on the board. Therefore, when the photocell is in use, the AD pin is taken.">

<meta property="og:title" content="Photocell of the Webduino Smart" >

<meta property="og:url" content="https://webduino.io/tutorials/smart-05-photocell.html">

<meta property="og:image" content="https://webduino.io/img/tutorials/smart-05-photocell-s.jpg">

<meta itemprop="image" content="https://webduino.io/img/tutorials/smart-05-photocell-s.jpg">

<include src="../_include-tutorials.html"></include>

<!-- @@close-->
<!-- @@block  =  preAndNext-->
<include src="../_include-tutorials-content.html"></include>

<!-- @@close-->
<!-- @@block  =  tutorials-->
<h1>Photocell of the Webduino Smart</h1>
<p>The Webduino Smart has a few built-in sensors and components, and photocell is one of them. The photocell can be used to detect the light surrounding it. The photocell is connected to A0, which is the AD pin on the board. Therefore, when the photocell is in use, the AD pin is taken.</p>
<!-- <div class="buy-this">
    <span>光敏電阻相關套件：<a href="https://webduino.io/buy/webduino-expansion-s.html" target="_blank">Webduino 擴充套件 S ( 支援馬克 1 號、Fly )</a></span>
    <span>Webduino 開發板：<a href="https://webduino.io/buy/component-webduino-v1.html" target="_blank">Webduino 馬克一號</a>、<a href="https://webduino.io/buy/component-webduino-fly.html" target="_blank">Webduino Fly</a>、<a href="https://webduino.io/buy/component-webduino-uno-fly.html" target="_blank">Webduino Fly + Arduino UNO</a></span>
</div> -->
<h2>Instructions for using Webduino Blockly</h2>
<p>Open the <a href="https://blockly.webduino.io/index.html?lang=en">Webduino Blockly editor</a>, place a &quot;Board&quot; block onto the workspace, choose WebSocket in the drop-down list, and fill in the IP address of your board. <strong>Remember to use the &quot;http&quot; protocol when you are using WebSocket, not &quot;https&quot;.</strong></p>
<p>Add a &quot;Photocell&quot; block and set the pin to A0.</p>
<p><img src="../../img/tutorials/en/smart-05-02.jpg" alt=""></p>
<p>Connect a &quot;Photocell detect / do&quot; block to the stack. Use the Web Demo method to show the values that the sensor detects. Click the red &quot;Run blocks&quot; button to run the stack, and you will see the value in Web Demo Area.
Check your stack setup with this example here: <a href="http://blockly.webduino.io/?lang=en#-KZsp_mWaBz_VrhJMRk4">http://blockly.webduino.io/?lang=en#-KZsp_mWaBz_VrhJMRk4</a></p>
<p><img src="../../img/tutorials/en/smart-05-03-1.jpg" alt="">
<img src="../../img/tutorials/en/smart-05-03-2.jpg" alt=""></p>
<p>You can convert the scale by using the &quot;Scale conversion&quot; block under the &quot;Math Conversion&quot; menu. Choose &quot;round to decimal 2&quot; for rounding the value to second decimal place. Fill in both the &quot;original&quot; and &quot;conversion&quot; values, so that you can convert the scale of value. 
Check your stack setup with this example here: <a href="http://blockly.webduino.io/?lang=en#-KZsprNLjTKYohAy8M-g">http://blockly.webduino.io/?lang=en#-KZsprNLjTKYohAy8M-g</a></p>
<p><img src="../../img/tutorials/en/smart-05-04.jpg" alt=""> </p>
<p><img src="../../img/tutorials/en/smart-05-05.jpg" alt=""></p>
<p>We can also apply the method we introduced in the past tutorial: &quot;<a href="smart-03-rgbled.html">Using an RGB LED with the Webduino Smart</a>&quot;. By simply using logic block to define a decision-making process you can make the RGB LED shine red if the value is between 0~0.2, in green if the value is between 0.4~0.6, and in blue if the value is over 0.6. The Webduino Smart allows for multiple applications at one time. This is the great advantage of the Webduino Smart!</p>
<p><img src="../../img/tutorials/en/smart-05-06.jpg" alt=""></p>
<p>Click the red &quot;Run Blocks&quot; button when you want to run the stack. Now the board can detect the light around it and you can see the reaction on the RGB LED. (Check your stack setup with this example here: <a href="http://blockly.webduino.io/?lang=en#-KZsqOgRlPNHzfwWfw0H">http://blockly.webduino.io/?lang=en#-KZsqOgRlPNHzfwWfw0H</a></p>
<p><img src="../../img/tutorials/smart-05-07.gif" alt=""></p>
<p><br/></p>
<h2>Code Explanation</h2>
<p>Include <code>webduino-all.min.js</code> in the header of HTML. The purpose is to allow the browser to support all the components of Web Components and Webduino. If the JavaScript is created by Blockly editing tools, <code>webduino-blockly.js</code> should be included.</p>
<pre><code>&lt;script src=&quot;https://webduino.io/components/webduino-js/dist/webduino-all.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://webduinoio.github.io/webduino-blockly/webduino-blockly.js&quot;&gt;&lt;/script&gt;
</code></pre><p>We use WebSocket transport:  <code>{transport: &#39;websocket&#39;, url: &#39;192.168.8.115&#39;}</code> here, with <code>.on()</code> to start detecting, and the property <code>.detectedVal</code> to get its detected value.</p>
<pre><code>var photocell;

boardReady({transport: &#39;websocket&#39;, url: &#39;192.168.8.115&#39;}, function (board) {
  board.systemReset();
  board.samplingInterval = 250;
  photocell = getPhotocell(board, 0);
  photocell.on(function(val){
    photocell.detectedVal = val;
    document.getElementById(&quot;demo-area-01-show&quot;).innerHTML = photocell.detectedVal;
  });
});
</code></pre><p>That&#39;s it for using the photocell with the Webduino Smart.
Webduino Bin: <a href="http://bin.webduino.io/luxu/edit?html,css,js,output">http://bin.webduino.io/luxu/edit?html,css,js,output</a>
Stack setup: <a href="http://blockly.webduino.io/?lang=en#-KZsqyEhaMB-2RMNi2B2">http://blockly.webduino.io/?lang=en#-KZsqyEhaMB-2RMNi2B2</a></p>
<!-- <div class="buy-this">
    <span>光敏電阻相關套件：<a href="https://webduino.io/buy/webduino-expansion-s.html" target="_blank">Webduino 擴充套件 S ( 支援馬克 1 號、Fly )</a></span>
    <span>Webduino 開發板：<a href="https://webduino.io/buy/component-webduino-v1.html" target="_blank">Webduino 馬克一號</a>、<a href="https://webduino.io/buy/component-webduino-fly.html" target="_blank">Webduino Fly</a>、<a href="https://webduino.io/buy/component-webduino-uno-fly.html" target="_blank">Webduino Fly + Arduino UNO</a></span>
</div> -->
<!-- @@close-->