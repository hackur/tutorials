<hr>
<p>tag: tutorial
src: tutorial-15-pir-led.html
title: PIR motion sensor
banner: tutorial-15-01.jpg
img: tutorial-15-01s.jpg</p>
<h2>date: 20150604</h2>
<!-- @@master  = ../../_layout.html-->
<!-- @@block  =  meta-->
<title>Project Example 15: PIR motion sensor :::: Webduino = Web × Arduino</title>

<meta name="description" content="The PIR (Passive Infrared Sensor) is an electronic sensor that measures infrared light radiating from objects. You can program it to perform certain actions when it senses infrared light radiating from the human body. In this example, using the Webduino, we will make an LED light up and show a lit light bulb on screen when the PIR sensor detects changes in infrared light.">

<meta itemprop="description" content="The PIR (Passive Infrared Sensor) is an electronic sensor that measures infrared light radiating from objects. You can program it to perform certain actions when it senses infrared light radiating from the human body. In this example, using the Webduino, we will make an LED light up and show a lit light bulb on screen when the PIR sensor detects changes in infrared light.">

<meta property="og:description" content="The PIR (Passive Infrared Sensor) is an electronic sensor that measures infrared light radiating from objects. You can program it to perform certain actions when it senses infrared light radiating from the human body. In this example, using the Webduino, we will make an LED light up and show a lit light bulb on screen when the PIR sensor detects changes in infrared light.">

<meta property="og:title" content="Project Example 15: PIR motion sensor" >

<meta property="og:url" content="https://webduino.io/tutorials/tutorial-15-pir-led.html">

<meta property="og:image" content="https://webduino.io/img/tutorials/tutorial-15-01s.jpg">

<meta itemprop="image" content="https://webduino.io/img/tutorials/tutorial-15-01s.jpg">

<include src="../_include-tutorials.html"></include>

<!-- @@close-->
<!-- @@block  =  preAndNext-->
<include src="../_include-tutorials-content.html"></include>

<!-- @@close-->
<!-- @@block  =  tutorials-->
<h1>Project Example 15: PIR motion sensor</h1>
<p>The PIR (Passive Infrared Sensor) is an electronic sensor that measures infrared light radiating from objects. You can program it to perform certain actions when it senses infrared light radiating from the human body. In this example, using the Webduino, we will make an LED light up and show a lit light bulb on screen when the PIR sensor detects changes in infrared light.</p>
<!-- <div class="buy-this">
    <span>人體紅外線偵測相關套件：<a href="https://webduino.io/buy/webduino-expansion-s.html" target="_blank">Webduino 擴充套件 S ( 支援馬克 1 號、Fly )</a></span>
    <span>Webduino 開發板：<a href="https://webduino.io/buy/component-webduino-v1.html" target="_blank">Webduino 馬克一號</a>、<a href="https://webduino.io/buy/component-webduino-fly.html" target="_blank">Webduino Fly</a>、<a href="https://webduino.io/buy/component-webduino-uno-fly.html" target="_blank">Webduino Fly + Arduino UNO</a></span>
</div> -->
<h2>Video Tutorial</h2>
<!-- 影片對應範例：[https://blockly.webduino.io/?page=tutorials/pir-2](https://blockly.webduino.io/?page=tutorials/pir-2)  -->
<p>Check the video tutorial here: 
<iframe class="youtube" src="https://www.youtube.com/embed/3873nza-ywo" frameborder="0" allowfullscreen></iframe></p>
<h2>Wiring and Practice</h2>
<p>Connect the VCC pin on the PIR sensor to VCC on the Webduino board, GND to GND, and OUT to pin 11. Our LED will share a GND with the PIR sensor, and connect the longer leg to pin 10. On the PIR sensor there are two knobs, SX is for sensitivity and the TX is for trigger delay time. Both can be adjusted by hand or with a screw driver.</p>
<p>Webduino Mark 1 Circuit diagram:</p>
<p><img src="../../img/tutorials/tutorial-15-02.jpg" alt=""></p>
<p>Webduino Fly Circuit diagram:</p>
<p><img src="../../img/tutorials/tutorial-15-02-fly.jpg" alt=""></p>
<p>Reference image:</p>
<p><img src="../../img/tutorials/tutorial-15-03.jpg" alt=""></p>
<p><img src="../../img/tutorials/tutorial-15-04.jpg" alt=""></p>
<p><img src="../../img/tutorials/tutorial-15-05.jpg" alt=""></p>
<p><img src="../../img/tutorials/tutorial-15-06.jpg" alt=""></p>
<!-- <div class="buy-this">
    <span>人體紅外線偵測相關套件：<a href="https://webduino.io/buy/webduino-expansion-s.html" target="_blank">Webduino 擴充套件 S ( 支援馬克 1 號、Fly )</a></span>
    <span>Webduino 開發板：<a href="https://webduino.io/buy/component-webduino-v1.html" target="_blank">Webduino 馬克一號</a>、<a href="https://webduino.io/buy/component-webduino-fly.html" target="_blank">Webduino Fly</a>、<a href="https://webduino.io/buy/component-webduino-uno-fly.html" target="_blank">Webduino Fly + Arduino UNO</a></span>
</div> -->
<h2>Instructions for using the Webduino Blockly</h2>
<p>We will be using &quot;Click Bulb&quot; in Webduino Blocky so, open the <a href="https://blockly.webduino.io/?lang=en">Webduino Blocky editor</a> and click the &quot;Web Demo Area&quot; button and select &quot;Click Bulb&quot; from the drop down menu.</p>
<p><img src="../../img/tutorials/en/tutorial-15-07.jpg" alt=""></p>
<p>Place a &quot;Board&quot; block into the workspace and fill in the name of your Webduino board. Then place a &quot;PIR motion&quot; block inside the stack and set the name to pir and the pin to 11. Set an &quot;LED&quot; block to led and the pin to 10.</p>
<p><img src="../../img/tutorials/en/tutorial-15-08.jpg" alt=""></p>
<p>Place two &quot;When PIR&#39;s change / do&quot; blocks into the stack, then place blocks that will turn the LED on/off and blocks to change the state of the light bulb image on screen.</p>
<p><img src="../../img/tutorials/en/tutorial-15-09.jpg" alt=""></p>
<p>Once you are done check if the board is online (click &quot;<a href="https://webduino.io/device.html">Check Device Status</a>&quot;) and click on the red execution button &quot;Run Blocks&quot;. Place your hand in front of the PIR sensor and you will see the LED and the light bulb image both light up.
Solution: <a href="https://blockly.webduino.io/?lang=en#-KZeZFgLzSu54-AmdJ5R">https://blockly.webduino.io/?lang=en#-KZeZFgLzSu54-AmdJ5R</a></p>
<h2>Code Explanation (<a href="http://bin.webduino.io/lofiv/edit?html,css,js,output">Check Webduino Bin</a>, <a href="https://webduino.io/device.html">Check Device Status</a>)</h2>
<p>Include <code>webduino-all.min.js</code> in the header of your html files in order to support all of the Webduino&#39;s components. If the codes are generated by Webduino Blockly, you also have to include <code>webduino-blockly.js</code> in your files.</p>
<pre><code>&lt;script src=&quot;https://webduino.io/components/webduino-js/dist/webduino-all.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://webduinoio.github.io/webduino-blockly/webduino-blockly.js&quot;&gt;&lt;/script&gt;
</code></pre><p>Inside the body of the HTML file, where an image section with the ID, demo-area-o2-light, there is a part where there are two different light bulb images, one on and one off, so when we click on the images they will change from one state to another.</p>
<pre><code>&lt;div id=&quot;demo-area-02-light&quot; class=&quot;off&quot;&gt;
  &lt;img src=&quot;https://blockly.webduino.io/media/off.png&quot; id=&quot;demo-area-02-off&quot;&gt;
  &lt;img src=&quot;https://blockly.webduino.io/media/on.png&quot; id=&quot;demo-area-02-on&quot;&gt;
&lt;/div&gt;
</code></pre><p>We use CSS to control the light bulb image, here we use display:none; to control the changing of images, below is the CSS code.</p>
<pre><code>#demo-area-02-light img{
  height:200px;
  display:none;
}
#demo-area-02-light.on #demo-area-02-on{
  display:inline-block;
}
#demo-area-02-light.off #demo-area-02-off{
  display:inline-block;
}
</code></pre><p>JavaScript uses two main APIs for the PIR sensor: <code>detected</code> and <code>ended</code>, each meaning detected infrared light and ending detection, place the actions you would like to happen with each one. </p>
<pre><code>var pir;
var led;

boardReady(&#39;&#39;, function (board) {
  board.samplingInterval = 20;
  pir = getPir(board, 11);
  led = getLed(board, 10);
  pir.on(&quot;detected&quot;,function(){
    led.on();
    document.getElementById(&quot;demo-area-02-light&quot;).className = &quot;on&quot;;

  });
  pir.on(&quot;ended&quot;,function(){
    led.off();
    document.getElementById(&quot;demo-area-02-light&quot;).className = &quot;off&quot;;

  });
});
</code></pre><p>Now, you can use a PIR motion sensor to detect changes in infrared light and control other devices!<br>Webduino Bin: <a href="http://bin.webduino.io/lofiv/edit?html,css,js,output">http://bin.webduino.io/lofiv/edit?html,css,js,output</a><br>Stack setup: <a href="https://blockly.webduino.io/?lang=en#-KZeZhhnvCierqZJv1wh">https://blockly.webduino.io/?lang=en#-KZeZhhnvCierqZJv1wh</a></p>
<!-- ## 人體紅外線偵測傳感器的延伸教學：

[Webduino Blockly 課程 6-1：偵測人體紅外線](https://blockly.webduino.io/?lang=zh-hant&page=tutorials/pir-1#-JvxRwAXj4ccyigeuI8o) 

<div class="buy-this">
    <span>人體紅外線偵測相關套件：<a href="https://webduino.io/buy/webduino-expansion-s.html" target="_blank">Webduino 擴充套件 S ( 支援馬克 1 號、Fly )</a></span>
    <span>Webduino 開發板：<a href="https://webduino.io/buy/component-webduino-v1.html" target="_blank">Webduino 馬克一號</a>、<a href="https://webduino.io/buy/component-webduino-fly.html" target="_blank">Webduino Fly</a>、<a href="https://webduino.io/buy/component-webduino-uno-fly.html" target="_blank">Webduino Fly + Arduino UNO</a></span>
</div>  -->
<!-- @@close-->